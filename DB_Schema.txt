
LinkVault - Database Schema


Field Name      : shareId
Type            : String
Required        : Yes

Field Name      : type
Type            : String (Enum: "text", "file")
Required        : Yes
Description     : Defines whether the content is text or file.

Field Name      : content
Type            : String
Required        : No (Required only if type = "text")
Description     : Stores the actual text content.

Field Name      : filePath
Type            : String
Required        : No (Required only if type = "file")
Description     : Stores the relative path of the uploaded file.
Purpose         : Used internally for file retrieval and deletion.

Field Name      : originalName
Type            : String
Required        : No (Required only if type = "file")
Description     : Stores the original filename uploaded by user.
Purpose         : Used when returning file for download.

Field Name      : expiresAt
Type            : Date
Required        : Yes
Description     : Timestamp indicating when the content expires.
Purpose         : Used for expiry validation and cleanup.

Field Name      : createdAt
Type            : Date
Required        : Yes

Field Name      : _id
Type            : ObjectId (Auto-generated by MongoDB)
Required        : Yes




Expiry is validated server-side during:
- GET /api/view/:id
- GET /api/download/:id

If current time > expiresAt:
    - Delete MongoDB document
    - Delete file from local storage
    - Return 403 error


Storage-

Text:
    Stored directly in MongoDB (content field)

File:
    Binary file stored in local /uploads directory
    Metadata stored in MongoDB (filePath + originalName)



- MongoDB stores metadata only
- Files stored separately
- Backend handles validation and cleanup
